@page "/"

@inject HttpClient Http

<MudContainer MaxWidth="MaxWidth.ExtraSmall">
    <MudCard>
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h6">Login</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudTextField @bind-Value="TextLogin" Label="Login" Variant="Variant.Text"></MudTextField>
            <MudTextField @bind-Value="TextPassword" Label="Senha" Variant="Variant.Text"></MudTextField>
        </MudCardContent>
        <MudCardActions>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Auth">Logar</MudButton>
        </MudCardActions>
    </MudCard>
</MudContainer>

@code {
    public string? TextLogin { get; set; }
    public string? TextPassword { get; set; }

    protected async Task Auth()
    {
        var request = new LoginRequest
            {
                Email = TextLogin,
                Password = TextPassword
            };

        var objAsJson = JsonSerializer.Serialize(request);
        var content = new StringContent(objAsJson, Encoding.UTF8, "application/json");
        var result = await Http.PostAsync("api/Login/Auth", content);
    }
}